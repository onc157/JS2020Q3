!function(Q){function n(n){for(var F,B,U=n[0],l=n[1],i=n[2],a=0,c=[];a<U.length;a++)B=U[a],Object.prototype.hasOwnProperty.call(t,B)&&t[B]&&c.push(t[B][0]),t[B]=0;for(F in l)Object.prototype.hasOwnProperty.call(l,F)&&(Q[F]=l[F]);for(r&&r(n);c.length;)c.shift()();return s.push.apply(s,i||[]),e()}function e(){for(var Q,n=0;n<s.length;n++){for(var e=s[n],F=!0,U=1;U<e.length;U++){var l=e[U];0!==t[l]&&(F=!1)}F&&(s.splice(n--,1),Q=B(B.s=e[0]))}return Q}var F={},t={0:0},s=[];function B(n){if(F[n])return F[n].exports;var e=F[n]={i:n,l:!1,exports:{}};return Q[n].call(e.exports,e,e.exports,B),e.l=!0,e.exports}B.m=Q,B.c=F,B.d=function(Q,n,e){B.o(Q,n)||Object.defineProperty(Q,n,{enumerable:!0,get:e})},B.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},B.t=function(Q,n){if(1&n&&(Q=B(Q)),8&n)return Q;if(4&n&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var e=Object.create(null);if(B.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:Q}),2&n&&"string"!=typeof Q)for(var F in Q)B.d(e,F,function(n){return Q[n]}.bind(null,F));return e},B.n=function(Q){var n=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(n,"a",n),n},B.o=function(Q,n){return Object.prototype.hasOwnProperty.call(Q,n)},B.p="";var U=window.webpackJsonp=window.webpackJsonp||[],l=U.push.bind(U);U.push=n,U=U.slice();for(var i=0;i<U.length;i++)n(U[i]);var r=l;s.push([121,1]),e()}({121:function(Q,n,e){e(122),Q.exports=e(310)},308:function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIzMDguanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///308\n")},309:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvdGVzdC5zY3NzPzlkNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMzA5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///309\n")},310:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./babel.js\nvar babel = __webpack_require__(308);\n\n// EXTERNAL MODULE: ./styles/test.scss\nvar test = __webpack_require__(309);\n\n// CONCATENATED MODULE: ./js/utils/create.js\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * @param {String} el\n * @param {String} classNames\n * @param {HTMLElement} child\n * @param {HTMLElement} parent\n * @param {...array} dataAttr\n */\nfunction create(el, classNames, child, parent) {\n  var _element$classList;\n\n  var element = null;\n\n  try {\n    element = document.createElement(el);\n  } catch (error) {\n    throw new Error('Unable to create HTMLElement!');\n  }\n\n  if (classNames) (_element$classList = element.classList).add.apply(_element$classList, _toConsumableArray(classNames.split(' ')));\n\n  if (child && Array.isArray(child)) {\n    child.forEach(function (childElement) {\n      return childElement && element.appendChild(childElement);\n    });\n  } else if (child && _typeof(child) === 'object') {\n    element.appendChild(child);\n  } else if (child && typeof child === 'string') {\n    element.innerHTML = child;\n  }\n\n  if (parent) {\n    parent.appendChild(element);\n  }\n\n  for (var _len = arguments.length, dataAttr = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n    dataAttr[_key - 4] = arguments[_key];\n  }\n\n  if (dataAttr.length) {\n    dataAttr.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          attrName = _ref2[0],\n          attrValue = _ref2[1];\n\n      if (attrValue === '') {\n        element.setAttribute(attrName, '');\n      }\n\n      if (attrName.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|src|style/)) {\n        element.setAttribute(attrName, attrValue);\n      } else {\n        element.dataset[attrName] = attrValue;\n      }\n    });\n  }\n\n  return element;\n}\n// CONCATENATED MODULE: ./js/main.js\nfunction main_toConsumableArray(arr) { return main_arrayWithoutHoles(arr) || main_iterableToArray(arr) || main_unsupportedIterableToArray(arr) || main_nonIterableSpread(); }\n\nfunction main_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction main_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return main_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return main_arrayLikeToArray(o, minLen); }\n\nfunction main_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction main_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return main_arrayLikeToArray(arr); }\n\nfunction main_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n // Init DOM element\n\nvar main = create('div', 'game-wrapper', [create('div', 'title', 'Gem Puzzles!')]);\nvar buttons = create('div', 'buttons-wrapper', [create('button', 'button new-game', 'New Game'), create('button', 'button save-game', 'Save Game'), create('button', 'button sound', '<span class=\"material-icons\">volume_up</span>'), create('button', 'button score', 'Score')]);\nvar soundWrapper = create('div', 'sound-wrapper', [create('audio', null, null, null, ['src', '../assets/audio/click-cell.wav']), create('audio', null, null, null, ['src', '../assets/audio/click-button.wav'])]);\n\nvar main_Game = /*#__PURE__*/function () {\n  function Game(size) {\n    var _this = this;\n\n    _classCallCheck(this, Game);\n\n    _defineProperty(this, \"handlerEvent\", function (e) {\n      console.log('e.target.className', e.target.className); // BUTTONS HANDLERS\n\n      if (_this.soundOn) {\n        soundWrapper.childNodes[1].currentTime = 0;\n        soundWrapper.childNodes[1].play();\n        console.log('click buttons');\n      }\n\n      if (e.target.className.match(/sound/)) {\n        _this.switchSound(e);\n      }\n\n      if (e.target.className.match(/new-game/)) {\n        _this.newGame();\n      } // if(e.target.className === 'save-game') {}\n      // if(e.target.className === 'score') {}\n\n    });\n\n    _defineProperty(this, \"switchSound\", function (e) {\n      var soundButton = e.target.lastChild;\n\n      if (_this.soundOn) {\n        soundButton.innerHTML = '<span class=\"material-icons\">volume_off</span>';\n        _this.soundOn = false;\n      } else {\n        soundButton.innerHTML = '<span class=\"material-icons\">volume_up</span>';\n        _this.soundOn = true;\n      }\n    });\n\n    this.size = size;\n    this.field = create('div', 'field', null, main);\n    this.buttons = buttons;\n    this.sizeCell = 50;\n    this.soundOn = true;\n  } // Add element on HTML markup\n\n\n  _createClass(Game, [{\n    key: \"init\",\n    value: function init() {\n      document.body.prepend(main, buttons, soundWrapper);\n      this.buttons.addEventListener('click', this.handlerEvent);\n      return this;\n    }\n  }, {\n    key: \"generateField\",\n    value: function generateField() {\n      var _this2 = this;\n\n      this.cells = []; // Set field sizes\n\n      this.field.style.width = \"\".concat(this.size * this.sizeCell, \"px\");\n      this.field.style.height = \"\".concat(this.size * this.sizeCell, \"px\");\n\n      var randomNumbers = main_toConsumableArray(Array(Math.pow(this.size, 2) - 1).keys()).sort(function () {\n        return Math.random() - 0.5;\n      }); // console.log('randomNumbers:', randomNumbers);\n      // Generate puzzle cells\n\n\n      var _loop = function _loop(i) {\n        var left = i % _this2.size;\n        var top = (i - left) / _this2.size;\n        _this2.cell = create('div', 'cell', \"\".concat(randomNumbers[i] + 1), _this2.field, ['id', \"\".concat(randomNumbers[i] + 1)], ['style', \"top: \".concat(top * _this2.sizeCell, \"px; left: \").concat(left * _this2.sizeCell, \"px;\")]);\n\n        _this2.cells.push({\n          number: randomNumbers[i] + 1,\n          left: left,\n          top: top,\n          item: _this2.cell,\n          active: false\n        });\n\n        _this2.cell.addEventListener('click', function () {\n          return _this2.cellMove(i);\n        });\n      };\n\n      for (var i = 0; i < Math.pow(this.size, 2) - 1; i++) {\n        _loop(i);\n      }\n\n      this.emptyCell = {\n        number: this.cells.length + 1,\n        left: this.cells.length % this.size,\n        top: (this.cells.length - this.cells.length % this.size) / this.size\n      };\n      this.cells.push(this.emptyCell);\n      console.log(this.cells);\n    }\n  }, {\n    key: \"cellMove\",\n    value: function cellMove(index) {\n      var cell = this.cells[index];\n      var leftDiff = Math.abs(this.emptyCell.left - cell.left);\n      var topDiff = Math.abs(this.emptyCell.top - cell.top);\n\n      if (this.soundOn) {\n        soundWrapper.childNodes[0].currentTime = 0;\n        soundWrapper.childNodes[0].play();\n        console.log('click cells');\n      } // We process click of only adjacent cells horizontall or verticall\n\n\n      if (leftDiff + topDiff <= 1) {\n        cell.item.style.left = \"\".concat(this.emptyCell.left * this.sizeCell, \"px\");\n        cell.item.style.top = \"\".concat(this.emptyCell.top * this.sizeCell, \"px\");\n        var _ref = [cell.left, this.emptyCell.left];\n        this.emptyCell.left = _ref[0];\n        cell.left = _ref[1];\n        var _ref2 = [cell.top, this.emptyCell.top];\n        this.emptyCell.top = _ref2[0];\n        cell.top = _ref2[1];\n      } else return; // Check is finish\n\n\n      this.checkFinish();\n    }\n  }, {\n    key: \"checkFinish\",\n    value: function checkFinish() {\n      var _this3 = this;\n\n      // Add or remove --active class for cell on correct position\n      this.cells.forEach(function (elem) {\n        if (elem.item) {\n          if (elem.number - 1 === elem.top * _this3.size + elem.left) {\n            elem.item.classList.add(\"cell--active\");\n            elem.active = true;\n          } else if (elem.number - 1 !== elem.top * _this3.size + elem.left && elem.active === true) {\n            elem.item.classList.remove(\"cell--active\");\n          }\n        }\n      }); // Check all cells on correct position\n\n      var isFinished = this.cells.every(function (cell) {\n        return cell.number - 1 === cell.top * _this3.size + cell.left;\n      });\n\n      if (isFinished) {\n        setTimeout(\"alert('You win!')\", 300);\n      }\n    } // Start New Game without reload page\n\n  }, {\n    key: \"newGame\",\n    value: function newGame() {\n      console.log('new game!');\n      this.field.remove();\n      this.field = create('div', 'field', null, main);\n      this.generateField();\n    }\n  }]);\n\n  return Game;\n}();\n\n\n// CONCATENATED MODULE: ./index.js\n// import Logo from './assets/logo'\n\n\n\n\n\nnew main_Game(4).init().generateField();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91dGlscy9jcmVhdGUuanM/MTY1NyIsIndlYnBhY2s6Ly8vLi9qcy9tYWluLmpzP2UzYjEiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJuYW1lcyI6WyJjcmVhdGUiLCJlbCIsImNsYXNzTmFtZXMiLCJjaGlsZCIsInBhcmVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlcnJvciIsIkVycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwic3BsaXQiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiY2hpbGRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJkYXRhQXR0ciIsImxlbmd0aCIsImF0dHJOYW1lIiwiYXR0clZhbHVlIiwic2V0QXR0cmlidXRlIiwibWF0Y2giLCJkYXRhc2V0IiwibWFpbiIsImJ1dHRvbnMiLCJzb3VuZFdyYXBwZXIiLCJHYW1lIiwic2l6ZSIsImUiLCJjb25zb2xlIiwibG9nIiwidGFyZ2V0IiwiY2xhc3NOYW1lIiwic291bmRPbiIsImNoaWxkTm9kZXMiLCJjdXJyZW50VGltZSIsInBsYXkiLCJzd2l0Y2hTb3VuZCIsIm5ld0dhbWUiLCJzb3VuZEJ1dHRvbiIsImxhc3RDaGlsZCIsImZpZWxkIiwic2l6ZUNlbGwiLCJib2R5IiwicHJlcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVyRXZlbnQiLCJjZWxscyIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJyYW5kb21OdW1iZXJzIiwia2V5cyIsInNvcnQiLCJNYXRoIiwicmFuZG9tIiwiaSIsImxlZnQiLCJ0b3AiLCJjZWxsIiwicHVzaCIsIm51bWJlciIsIml0ZW0iLCJhY3RpdmUiLCJjZWxsTW92ZSIsImVtcHR5Q2VsbCIsImluZGV4IiwibGVmdERpZmYiLCJhYnMiLCJ0b3BEaWZmIiwiY2hlY2tGaW5pc2giLCJlbGVtIiwicmVtb3ZlIiwiaXNGaW5pc2hlZCIsImV2ZXJ5Iiwic2V0VGltZW91dCIsImdlbmVyYXRlRmllbGQiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRWUsU0FBU0EsTUFBVCxDQUFnQkMsRUFBaEIsRUFBb0JDLFVBQXBCLEVBQWdDQyxLQUFoQyxFQUF1Q0MsTUFBdkMsRUFBNEQ7QUFBQTs7QUFDekUsTUFBSUMsT0FBTyxHQUFHLElBQWQ7O0FBQ0EsTUFBSTtBQUNGQSxXQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1Qk4sRUFBdkIsQ0FBVjtBQUNELEdBRkQsQ0FFRSxPQUFPTyxLQUFQLEVBQWM7QUFDZCxVQUFNLElBQUlDLEtBQUosQ0FBVSwrQkFBVixDQUFOO0FBQ0Q7O0FBRUQsTUFBSVAsVUFBSixFQUFnQixzQkFBQUcsT0FBTyxDQUFDSyxTQUFSLEVBQWtCQyxHQUFsQiw4Q0FBeUJULFVBQVUsQ0FBQ1UsS0FBWCxDQUFpQixHQUFqQixDQUF6Qjs7QUFFaEIsTUFBSVQsS0FBSyxJQUFJVSxLQUFLLENBQUNDLE9BQU4sQ0FBY1gsS0FBZCxDQUFiLEVBQW1DO0FBQ2pDQSxTQUFLLENBQUNZLE9BQU4sQ0FBYyxVQUFDQyxZQUFEO0FBQUEsYUFBa0JBLFlBQVksSUFBSVgsT0FBTyxDQUFDWSxXQUFSLENBQW9CRCxZQUFwQixDQUFsQztBQUFBLEtBQWQ7QUFDRCxHQUZELE1BRU8sSUFBSWIsS0FBSyxJQUFJLFFBQU9BLEtBQVAsTUFBaUIsUUFBOUIsRUFBd0M7QUFDN0NFLFdBQU8sQ0FBQ1ksV0FBUixDQUFvQmQsS0FBcEI7QUFDRCxHQUZNLE1BRUEsSUFBSUEsS0FBSyxJQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBOUIsRUFBd0M7QUFDN0NFLFdBQU8sQ0FBQ2EsU0FBUixHQUFvQmYsS0FBcEI7QUFDRDs7QUFFRCxNQUFJQyxNQUFKLEVBQVk7QUFDVkEsVUFBTSxDQUFDYSxXQUFQLENBQW1CWixPQUFuQjtBQUNEOztBQXBCd0Usb0NBQVZjLFFBQVU7QUFBVkEsWUFBVTtBQUFBOztBQXNCekUsTUFBSUEsUUFBUSxDQUFDQyxNQUFiLEVBQXFCO0FBQ25CRCxZQUFRLENBQUNKLE9BQVQsQ0FBaUIsZ0JBQTZCO0FBQUE7QUFBQSxVQUExQk0sUUFBMEI7QUFBQSxVQUFoQkMsU0FBZ0I7O0FBQzVDLFVBQUlBLFNBQVMsS0FBSyxFQUFsQixFQUFzQjtBQUNwQmpCLGVBQU8sQ0FBQ2tCLFlBQVIsQ0FBcUJGLFFBQXJCLEVBQStCLEVBQS9CO0FBQ0Q7O0FBQ0QsVUFBSUEsUUFBUSxDQUFDRyxLQUFULENBQWUsaUVBQWYsQ0FBSixFQUF1RjtBQUNyRm5CLGVBQU8sQ0FBQ2tCLFlBQVIsQ0FBcUJGLFFBQXJCLEVBQStCQyxTQUEvQjtBQUNELE9BRkQsTUFFTztBQUNMakIsZUFBTyxDQUFDb0IsT0FBUixDQUFnQkosUUFBaEIsSUFBNEJDLFNBQTVCO0FBQ0Q7QUFDRixLQVREO0FBVUQ7O0FBQ0QsU0FBT2pCLE9BQVA7QUFDRCxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NDekNEOztBQUNBLElBQU1xQixJQUFJLEdBQUcxQixNQUFNLENBQUMsS0FBRCxFQUFRLGNBQVIsRUFDakIsQ0FBQ0EsTUFBTSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLGNBQWpCLENBQVAsQ0FEaUIsQ0FBbkI7QUFFQSxJQUFNMkIsT0FBTyxHQUFHM0IsTUFBTSxDQUFDLEtBQUQsRUFBUSxpQkFBUixFQUEyQixDQUMvQ0EsTUFBTSxDQUFDLFFBQUQsRUFBVyxpQkFBWCxFQUE4QixVQUE5QixDQUR5QyxFQUUvQ0EsTUFBTSxDQUFDLFFBQUQsRUFBVyxrQkFBWCxFQUErQixXQUEvQixDQUZ5QyxFQUcvQ0EsTUFBTSxDQUFDLFFBQUQsRUFBVyxjQUFYLEVBQTJCLCtDQUEzQixDQUh5QyxFQUkvQ0EsTUFBTSxDQUFDLFFBQUQsRUFBVyxjQUFYLEVBQTJCLE9BQTNCLENBSnlDLENBQTNCLENBQXRCO0FBTUEsSUFBTTRCLFlBQVksR0FBRzVCLE1BQU0sQ0FBQyxLQUFELEVBQVEsZUFBUixFQUF5QixDQUNsREEsTUFBTSxDQUFDLE9BQUQsRUFBVSxJQUFWLEVBQWdCLElBQWhCLEVBQXNCLElBQXRCLEVBQTRCLENBQUMsS0FBRCxFQUFRLGdDQUFSLENBQTVCLENBRDRDLEVBRWxEQSxNQUFNLENBQUMsT0FBRCxFQUFVLElBQVYsRUFBZ0IsSUFBaEIsRUFBc0IsSUFBdEIsRUFBNEIsQ0FBQyxLQUFELEVBQVEsa0NBQVIsQ0FBNUIsQ0FGNEMsQ0FBekIsQ0FBM0I7O0lBS3FCNkIsUztBQUNuQixnQkFBWUMsSUFBWixFQUFrQjtBQUFBOztBQUFBOztBQUFBLDBDQTBESCxVQUFDQyxDQUFELEVBQU87QUFDcEJDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDRixDQUFDLENBQUNHLE1BQUYsQ0FBU0MsU0FBM0MsRUFEb0IsQ0FFcEI7O0FBRUEsVUFBSSxLQUFJLENBQUNDLE9BQVQsRUFBa0I7QUFDaEJSLG9CQUFZLENBQUNTLFVBQWIsQ0FBd0IsQ0FBeEIsRUFBMkJDLFdBQTNCLEdBQXlDLENBQXpDO0FBQ0FWLG9CQUFZLENBQUNTLFVBQWIsQ0FBd0IsQ0FBeEIsRUFBMkJFLElBQTNCO0FBQ0FQLGVBQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFDRDs7QUFFRCxVQUFHRixDQUFDLENBQUNHLE1BQUYsQ0FBU0MsU0FBVCxDQUFtQlgsS0FBbkIsQ0FBeUIsT0FBekIsQ0FBSCxFQUFzQztBQUNwQyxhQUFJLENBQUNnQixXQUFMLENBQWlCVCxDQUFqQjtBQUNEOztBQUNELFVBQUdBLENBQUMsQ0FBQ0csTUFBRixDQUFTQyxTQUFULENBQW1CWCxLQUFuQixDQUF5QixVQUF6QixDQUFILEVBQXlDO0FBQ3ZDLGFBQUksQ0FBQ2lCLE9BQUw7QUFDRCxPQWZtQixDQWdCcEI7QUFDQTs7QUFFRCxLQTdFaUI7O0FBQUEseUNBc0lKLFVBQUNWLENBQUQsRUFBTztBQUNuQixVQUFNVyxXQUFXLEdBQUlYLENBQUMsQ0FBQ0csTUFBRixDQUFTUyxTQUE5Qjs7QUFFQSxVQUFJLEtBQUksQ0FBQ1AsT0FBVCxFQUFrQjtBQUNoQk0sbUJBQVcsQ0FBQ3hCLFNBQVosR0FBd0IsZ0RBQXhCO0FBQ0EsYUFBSSxDQUFDa0IsT0FBTCxHQUFlLEtBQWY7QUFDRCxPQUhELE1BR087QUFDTE0sbUJBQVcsQ0FBQ3hCLFNBQVosR0FBd0IsK0NBQXhCO0FBQ0EsYUFBSSxDQUFDa0IsT0FBTCxHQUFlLElBQWY7QUFDRDtBQUNGLEtBaEppQjs7QUFDaEIsU0FBS04sSUFBTCxHQUFZQSxJQUFaO0FBQ0EsU0FBS2MsS0FBTCxHQUFhNUMsTUFBTSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLElBQWpCLEVBQXVCMEIsSUFBdkIsQ0FBbkI7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLa0IsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFNBQUtULE9BQUwsR0FBZSxJQUFmO0FBQ0QsRyxDQUVEOzs7OzsyQkFDTztBQUNMOUIsY0FBUSxDQUFDd0MsSUFBVCxDQUFjQyxPQUFkLENBQXNCckIsSUFBdEIsRUFBNEJDLE9BQTVCLEVBQXFDQyxZQUFyQztBQUNBLFdBQUtELE9BQUwsQ0FBYXFCLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLEtBQUtDLFlBQTVDO0FBQ0EsYUFBTyxJQUFQO0FBQ0Q7OztvQ0FFZTtBQUFBOztBQUNkLFdBQUtDLEtBQUwsR0FBYSxFQUFiLENBRGMsQ0FHZDs7QUFDQSxXQUFLTixLQUFMLENBQVdPLEtBQVgsQ0FBaUJDLEtBQWpCLGFBQTRCLEtBQUt0QixJQUFMLEdBQVksS0FBS2UsUUFBN0M7QUFDQSxXQUFLRCxLQUFMLENBQVdPLEtBQVgsQ0FBaUJFLE1BQWpCLGFBQTZCLEtBQUt2QixJQUFMLEdBQVksS0FBS2UsUUFBOUM7O0FBRUEsVUFBTVMsYUFBYSxHQUFHLHVCQUFJekMsS0FBSyxDQUFDLGNBQUtpQixJQUFMLEVBQWEsQ0FBYixJQUFpQixDQUFsQixDQUFMLENBQTBCeUIsSUFBMUIsRUFBSixFQUNuQkMsSUFEbUIsQ0FDZDtBQUFBLGVBQU1DLElBQUksQ0FBQ0MsTUFBTCxLQUFnQixHQUF0QjtBQUFBLE9BRGMsQ0FBdEIsQ0FQYyxDQVVkO0FBRUE7OztBQVpjLGlDQWFMQyxDQWJLO0FBY1osWUFBTUMsSUFBSSxHQUFHRCxDQUFDLEdBQUcsTUFBSSxDQUFDN0IsSUFBdEI7QUFDQSxZQUFNK0IsR0FBRyxHQUFHLENBQUNGLENBQUMsR0FBR0MsSUFBTCxJQUFhLE1BQUksQ0FBQzlCLElBQTlCO0FBRUEsY0FBSSxDQUFDZ0MsSUFBTCxHQUFZOUQsTUFBTSxDQUFDLEtBQUQsRUFBUSxNQUFSLFlBQW1Cc0QsYUFBYSxDQUFDSyxDQUFELENBQWIsR0FBbUIsQ0FBdEMsR0FBMkMsTUFBSSxDQUFDZixLQUFoRCxFQUF1RCxDQUFDLElBQUQsWUFBVVUsYUFBYSxDQUFDSyxDQUFELENBQWIsR0FBbUIsQ0FBN0IsRUFBdkQsRUFDbEIsQ0FBQyxPQUFELGlCQUFrQkUsR0FBRyxHQUFHLE1BQUksQ0FBQ2hCLFFBQTdCLHVCQUFrRGUsSUFBSSxHQUFHLE1BQUksQ0FBQ2YsUUFBOUQsU0FEa0IsQ0FBbEI7O0FBSUEsY0FBSSxDQUFDSyxLQUFMLENBQVdhLElBQVgsQ0FBZ0I7QUFDZEMsZ0JBQU0sRUFBRVYsYUFBYSxDQUFDSyxDQUFELENBQWIsR0FBbUIsQ0FEYjtBQUVkQyxjQUFJLEVBQUVBLElBRlE7QUFHZEMsYUFBRyxFQUFFQSxHQUhTO0FBSWRJLGNBQUksRUFBRSxNQUFJLENBQUNILElBSkc7QUFLZEksZ0JBQU0sRUFBRTtBQUxNLFNBQWhCOztBQVFBLGNBQUksQ0FBQ0osSUFBTCxDQUFVZCxnQkFBVixDQUEyQixPQUEzQixFQUFvQztBQUFBLGlCQUFNLE1BQUksQ0FBQ21CLFFBQUwsQ0FBY1IsQ0FBZCxDQUFOO0FBQUEsU0FBcEM7QUE3Qlk7O0FBYWQsV0FBSyxJQUFJQSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLGNBQUs3QixJQUFMLEVBQWEsQ0FBYixJQUFpQixDQUFyQyxFQUF3QzZCLENBQUMsRUFBekMsRUFBNkM7QUFBQSxjQUFwQ0EsQ0FBb0M7QUFpQjVDOztBQUVELFdBQUtTLFNBQUwsR0FBaUI7QUFDZkosY0FBTSxFQUFFLEtBQUtkLEtBQUwsQ0FBVzlCLE1BQVgsR0FBb0IsQ0FEYjtBQUVmd0MsWUFBSSxFQUFFLEtBQUtWLEtBQUwsQ0FBVzlCLE1BQVgsR0FBb0IsS0FBS1UsSUFGaEI7QUFHZitCLFdBQUcsRUFBRSxDQUFDLEtBQUtYLEtBQUwsQ0FBVzlCLE1BQVgsR0FBcUIsS0FBSzhCLEtBQUwsQ0FBVzlCLE1BQVgsR0FBb0IsS0FBS1UsSUFBL0MsSUFBd0QsS0FBS0E7QUFIbkQsT0FBakI7QUFNQSxXQUFLb0IsS0FBTCxDQUFXYSxJQUFYLENBQWdCLEtBQUtLLFNBQXJCO0FBRUFwQyxhQUFPLENBQUNDLEdBQVIsQ0FBWSxLQUFLaUIsS0FBakI7QUFDRDs7OzZCQXVCUW1CLEssRUFBTztBQUNkLFVBQU1QLElBQUksR0FBRyxLQUFLWixLQUFMLENBQVdtQixLQUFYLENBQWI7QUFDQSxVQUFNQyxRQUFRLEdBQUdiLElBQUksQ0FBQ2MsR0FBTCxDQUFTLEtBQUtILFNBQUwsQ0FBZVIsSUFBZixHQUFzQkUsSUFBSSxDQUFDRixJQUFwQyxDQUFqQjtBQUNBLFVBQU1ZLE9BQU8sR0FBR2YsSUFBSSxDQUFDYyxHQUFMLENBQVMsS0FBS0gsU0FBTCxDQUFlUCxHQUFmLEdBQXFCQyxJQUFJLENBQUNELEdBQW5DLENBQWhCOztBQUVBLFVBQUksS0FBS3pCLE9BQVQsRUFBa0I7QUFDaEJSLG9CQUFZLENBQUNTLFVBQWIsQ0FBd0IsQ0FBeEIsRUFBMkJDLFdBQTNCLEdBQXlDLENBQXpDO0FBQ0FWLG9CQUFZLENBQUNTLFVBQWIsQ0FBd0IsQ0FBeEIsRUFBMkJFLElBQTNCO0FBQ0FQLGVBQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDRCxPQVRhLENBV2Q7OztBQUNBLFVBQUlxQyxRQUFRLEdBQUdFLE9BQVgsSUFBc0IsQ0FBMUIsRUFBNkI7QUFDM0JWLFlBQUksQ0FBQ0csSUFBTCxDQUFVZCxLQUFWLENBQWdCUyxJQUFoQixhQUEwQixLQUFLUSxTQUFMLENBQWVSLElBQWYsR0FBc0IsS0FBS2YsUUFBckQ7QUFDQWlCLFlBQUksQ0FBQ0csSUFBTCxDQUFVZCxLQUFWLENBQWdCVSxHQUFoQixhQUF5QixLQUFLTyxTQUFMLENBQWVQLEdBQWYsR0FBcUIsS0FBS2hCLFFBQW5EO0FBRjJCLG1CQUlRLENBQUNpQixJQUFJLENBQUNGLElBQU4sRUFBWSxLQUFLUSxTQUFMLENBQWVSLElBQTNCLENBSlI7QUFJMUIsYUFBS1EsU0FBTCxDQUFlUixJQUpXO0FBSUxFLFlBQUksQ0FBQ0YsSUFKQTtBQUFBLG9CQUtNLENBQUNFLElBQUksQ0FBQ0QsR0FBTixFQUFXLEtBQUtPLFNBQUwsQ0FBZVAsR0FBMUIsQ0FMTjtBQUsxQixhQUFLTyxTQUFMLENBQWVQLEdBTFc7QUFLTkMsWUFBSSxDQUFDRCxHQUxDO0FBTTVCLE9BTkQsTUFNTyxPQWxCTyxDQW9CZDs7O0FBQ0EsV0FBS1ksV0FBTDtBQUNEOzs7a0NBRWE7QUFBQTs7QUFDWjtBQUNBLFdBQUt2QixLQUFMLENBQVduQyxPQUFYLENBQW1CLFVBQUEyRCxJQUFJLEVBQUk7QUFDekIsWUFBSUEsSUFBSSxDQUFDVCxJQUFULEVBQWU7QUFDYixjQUFJUyxJQUFJLENBQUNWLE1BQUwsR0FBYyxDQUFkLEtBQW9CVSxJQUFJLENBQUNiLEdBQUwsR0FBVyxNQUFJLENBQUMvQixJQUFoQixHQUF1QjRDLElBQUksQ0FBQ2QsSUFBcEQsRUFBMEQ7QUFDeERjLGdCQUFJLENBQUNULElBQUwsQ0FBVXZELFNBQVYsQ0FBb0JDLEdBQXBCLENBQXdCLGNBQXhCO0FBQ0ErRCxnQkFBSSxDQUFDUixNQUFMLEdBQWMsSUFBZDtBQUNELFdBSEQsTUFHTyxJQUFJUSxJQUFJLENBQUNWLE1BQUwsR0FBYyxDQUFkLEtBQW9CVSxJQUFJLENBQUNiLEdBQUwsR0FBVyxNQUFJLENBQUMvQixJQUFoQixHQUF1QjRDLElBQUksQ0FBQ2QsSUFBaEQsSUFBd0RjLElBQUksQ0FBQ1IsTUFBTCxLQUFnQixJQUE1RSxFQUFrRjtBQUN2RlEsZ0JBQUksQ0FBQ1QsSUFBTCxDQUFVdkQsU0FBVixDQUFvQmlFLE1BQXBCLENBQTJCLGNBQTNCO0FBQ0Q7QUFDRjtBQUNGLE9BVEQsRUFGWSxDQWFaOztBQUNBLFVBQU1DLFVBQVUsR0FBRyxLQUFLMUIsS0FBTCxDQUFXMkIsS0FBWCxDQUFpQixVQUFBZixJQUFJLEVBQUk7QUFDMUMsZUFBT0EsSUFBSSxDQUFDRSxNQUFMLEdBQWMsQ0FBZCxLQUFvQkYsSUFBSSxDQUFDRCxHQUFMLEdBQVcsTUFBSSxDQUFDL0IsSUFBaEIsR0FBdUJnQyxJQUFJLENBQUNGLElBQXZEO0FBQ0QsT0FGa0IsQ0FBbkI7O0FBSUEsVUFBSWdCLFVBQUosRUFBZ0I7QUFDZEUsa0JBQVUsQ0FBQyxtQkFBRCxFQUFzQixHQUF0QixDQUFWO0FBQ0Q7QUFDRixLLENBRUQ7Ozs7OEJBQ1U7QUFDUjlDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLFdBQVo7QUFDQSxXQUFLVyxLQUFMLENBQVcrQixNQUFYO0FBQ0EsV0FBSy9CLEtBQUwsR0FBYTVDLE1BQU0sQ0FBQyxLQUFELEVBQVEsT0FBUixFQUFpQixJQUFqQixFQUF1QjBCLElBQXZCLENBQW5CO0FBQ0EsV0FBS3FELGFBQUw7QUFDRDs7Ozs7Ozs7QUNySkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBSWxELFNBQUosQ0FBUyxDQUFULEVBQVltRCxJQUFaLEdBQW1CRCxhQUFuQiIsImZpbGUiOiIzMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZXNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNoaWxkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEBwYXJhbSB7Li4uYXJyYXl9IGRhdGFBdHRyXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlKGVsLCBjbGFzc05hbWVzLCBjaGlsZCwgcGFyZW50LCAuLi5kYXRhQXR0cikge1xuICBsZXQgZWxlbWVudCA9IG51bGw7XG4gIHRyeSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBIVE1MRWxlbWVudCEnKTtcbiAgfVxuXG4gIGlmIChjbGFzc05hbWVzKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcy5zcGxpdCgnICcpKTtcblxuICBpZiAoY2hpbGQgJiYgQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICBjaGlsZC5mb3JFYWNoKChjaGlsZEVsZW1lbnQpID0+IGNoaWxkRWxlbWVudCAmJiBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkRWxlbWVudCkpO1xuICB9IGVsc2UgaWYgKGNoaWxkICYmIHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcpIHtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgfSBlbHNlIGlmIChjaGlsZCAmJiB0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBjaGlsZDtcbiAgfVxuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoZGF0YUF0dHIubGVuZ3RoKSB7XG4gICAgZGF0YUF0dHIuZm9yRWFjaCgoWyBhdHRyTmFtZSwgYXR0clZhbHVlIF0pID0+IHtcbiAgICAgIGlmIChhdHRyVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoYXR0ck5hbWUubWF0Y2goL3ZhbHVlfGlkfHBsYWNlaG9sZGVyfGNvbHN8cm93c3xhdXRvY29ycmVjdHxzcGVsbGNoZWNrfHNyY3xzdHlsZS8pKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W2F0dHJOYW1lXSA9IGF0dHJWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn0iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4vdXRpbHMvY3JlYXRlJztcblxuLy8gSW5pdCBET00gZWxlbWVudFxuY29uc3QgbWFpbiA9IGNyZWF0ZSgnZGl2JywgJ2dhbWUtd3JhcHBlcicsXG4gIFtjcmVhdGUoJ2RpdicsICd0aXRsZScsICdHZW0gUHV6emxlcyEnKV0pO1xuY29uc3QgYnV0dG9ucyA9IGNyZWF0ZSgnZGl2JywgJ2J1dHRvbnMtd3JhcHBlcicsIFtcbiAgY3JlYXRlKCdidXR0b24nLCAnYnV0dG9uIG5ldy1nYW1lJywgJ05ldyBHYW1lJyksXG4gIGNyZWF0ZSgnYnV0dG9uJywgJ2J1dHRvbiBzYXZlLWdhbWUnLCAnU2F2ZSBHYW1lJyksXG4gIGNyZWF0ZSgnYnV0dG9uJywgJ2J1dHRvbiBzb3VuZCcsICc8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+dm9sdW1lX3VwPC9zcGFuPicpLFxuICBjcmVhdGUoJ2J1dHRvbicsICdidXR0b24gc2NvcmUnLCAnU2NvcmUnKVxuXSk7XG5jb25zdCBzb3VuZFdyYXBwZXIgPSBjcmVhdGUoJ2RpdicsICdzb3VuZC13cmFwcGVyJywgW1xuICBjcmVhdGUoJ2F1ZGlvJywgbnVsbCwgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi4vYXNzZXRzL2F1ZGlvL2NsaWNrLWNlbGwud2F2J10pLFxuICBjcmVhdGUoJ2F1ZGlvJywgbnVsbCwgbnVsbCwgbnVsbCwgWydzcmMnLCAnLi4vYXNzZXRzL2F1ZGlvL2NsaWNrLWJ1dHRvbi53YXYnXSlcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5maWVsZCA9IGNyZWF0ZSgnZGl2JywgJ2ZpZWxkJywgbnVsbCwgbWFpbik7XG4gICAgdGhpcy5idXR0b25zID0gYnV0dG9ucztcbiAgICB0aGlzLnNpemVDZWxsID0gNTA7XG4gICAgdGhpcy5zb3VuZE9uID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFkZCBlbGVtZW50IG9uIEhUTUwgbWFya3VwXG4gIGluaXQoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKG1haW4sIGJ1dHRvbnMsIHNvdW5kV3JhcHBlcik7XG4gICAgdGhpcy5idXR0b25zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyRXZlbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2VuZXJhdGVGaWVsZCgpIHtcbiAgICB0aGlzLmNlbGxzID0gW107XG5cbiAgICAvLyBTZXQgZmllbGQgc2l6ZXNcbiAgICB0aGlzLmZpZWxkLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zaXplICogdGhpcy5zaXplQ2VsbH1weGA7XG4gICAgdGhpcy5maWVsZC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnNpemUgKiB0aGlzLnNpemVDZWxsfXB4YDtcblxuICAgIGNvbnN0IHJhbmRvbU51bWJlcnMgPSBbLi4uQXJyYXkodGhpcy5zaXplICoqIDIgLSAxKS5rZXlzKCldXG4gICAgICAuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdyYW5kb21OdW1iZXJzOicsIHJhbmRvbU51bWJlcnMpO1xuXG4gICAgLy8gR2VuZXJhdGUgcHV6emxlIGNlbGxzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemUgKiogMiAtIDE7IGkrKykge1xuICAgICAgY29uc3QgbGVmdCA9IGkgJSB0aGlzLnNpemU7XG4gICAgICBjb25zdCB0b3AgPSAoaSAtIGxlZnQpIC8gdGhpcy5zaXplO1xuXG4gICAgICB0aGlzLmNlbGwgPSBjcmVhdGUoJ2RpdicsICdjZWxsJywgYCR7cmFuZG9tTnVtYmVyc1tpXSArIDF9YCwgdGhpcy5maWVsZCwgWydpZCcsIGAke3JhbmRvbU51bWJlcnNbaV0gKyAxfWBdLFxuICAgICAgWydzdHlsZScsIGB0b3A6ICR7dG9wICogdGhpcy5zaXplQ2VsbH1weDsgbGVmdDogJHtsZWZ0ICogdGhpcy5zaXplQ2VsbH1weDtgXVxuICAgICAgKTtcblxuICAgICAgdGhpcy5jZWxscy5wdXNoKHtcbiAgICAgICAgbnVtYmVyOiByYW5kb21OdW1iZXJzW2ldICsgMSxcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGl0ZW06IHRoaXMuY2VsbCxcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2VsbE1vdmUoaSkpO1xuICAgIH1cblxuICAgIHRoaXMuZW1wdHlDZWxsID0ge1xuICAgICAgbnVtYmVyOiB0aGlzLmNlbGxzLmxlbmd0aCArIDEsXG4gICAgICBsZWZ0OiB0aGlzLmNlbGxzLmxlbmd0aCAlIHRoaXMuc2l6ZSxcbiAgICAgIHRvcDogKHRoaXMuY2VsbHMubGVuZ3RoIC0gKHRoaXMuY2VsbHMubGVuZ3RoICUgdGhpcy5zaXplKSkgLyB0aGlzLnNpemVcbiAgICB9O1xuXG4gICAgdGhpcy5jZWxscy5wdXNoKHRoaXMuZW1wdHlDZWxsKTtcblxuICAgIGNvbnNvbGUubG9nKHRoaXMuY2VsbHMpXG4gIH1cblxuICBoYW5kbGVyRXZlbnQgPSAoZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdlLnRhcmdldC5jbGFzc05hbWUnLCBlLnRhcmdldC5jbGFzc05hbWUpXG4gICAgLy8gQlVUVE9OUyBIQU5ETEVSU1xuXG4gICAgaWYgKHRoaXMuc291bmRPbikge1xuICAgICAgc291bmRXcmFwcGVyLmNoaWxkTm9kZXNbMV0uY3VycmVudFRpbWUgPSAwO1xuICAgICAgc291bmRXcmFwcGVyLmNoaWxkTm9kZXNbMV0ucGxheSgpO1xuICAgICAgY29uc29sZS5sb2coJ2NsaWNrIGJ1dHRvbnMnKVxuICAgIH1cblxuICAgIGlmKGUudGFyZ2V0LmNsYXNzTmFtZS5tYXRjaCgvc291bmQvKSkge1xuICAgICAgdGhpcy5zd2l0Y2hTb3VuZChlKTtcbiAgICB9XG4gICAgaWYoZS50YXJnZXQuY2xhc3NOYW1lLm1hdGNoKC9uZXctZ2FtZS8pKSB7XG4gICAgICB0aGlzLm5ld0dhbWUoKTtcbiAgICB9XG4gICAgLy8gaWYoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnc2F2ZS1nYW1lJykge31cbiAgICAvLyBpZihlLnRhcmdldC5jbGFzc05hbWUgPT09ICdzY29yZScpIHt9XG5cbiAgfVxuXG4gIGNlbGxNb3ZlKGluZGV4KSB7XG4gICAgY29uc3QgY2VsbCA9IHRoaXMuY2VsbHNbaW5kZXhdO1xuICAgIGNvbnN0IGxlZnREaWZmID0gTWF0aC5hYnModGhpcy5lbXB0eUNlbGwubGVmdCAtIGNlbGwubGVmdCk7XG4gICAgY29uc3QgdG9wRGlmZiA9IE1hdGguYWJzKHRoaXMuZW1wdHlDZWxsLnRvcCAtIGNlbGwudG9wKTtcblxuICAgIGlmICh0aGlzLnNvdW5kT24pIHtcbiAgICAgIHNvdW5kV3JhcHBlci5jaGlsZE5vZGVzWzBdLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgIHNvdW5kV3JhcHBlci5jaGlsZE5vZGVzWzBdLnBsYXkoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdjbGljayBjZWxscycpXG4gICAgfVxuXG4gICAgLy8gV2UgcHJvY2VzcyBjbGljayBvZiBvbmx5IGFkamFjZW50IGNlbGxzIGhvcml6b250YWxsIG9yIHZlcnRpY2FsbFxuICAgIGlmIChsZWZ0RGlmZiArIHRvcERpZmYgPD0gMSkge1xuICAgICAgY2VsbC5pdGVtLnN0eWxlLmxlZnQgPSBgJHt0aGlzLmVtcHR5Q2VsbC5sZWZ0ICogdGhpcy5zaXplQ2VsbH1weGA7XG4gICAgICBjZWxsLml0ZW0uc3R5bGUudG9wID0gYCR7dGhpcy5lbXB0eUNlbGwudG9wICogdGhpcy5zaXplQ2VsbH1weGA7XG5cbiAgICAgIFt0aGlzLmVtcHR5Q2VsbC5sZWZ0LCBjZWxsLmxlZnRdID0gW2NlbGwubGVmdCwgdGhpcy5lbXB0eUNlbGwubGVmdF07XG4gICAgICBbdGhpcy5lbXB0eUNlbGwudG9wLCBjZWxsLnRvcF0gPSBbY2VsbC50b3AsIHRoaXMuZW1wdHlDZWxsLnRvcF07XG4gICAgfSBlbHNlIHJldHVybjtcblxuICAgIC8vIENoZWNrIGlzIGZpbmlzaFxuICAgIHRoaXMuY2hlY2tGaW5pc2goKTtcbiAgfVxuXG4gIGNoZWNrRmluaXNoKCkge1xuICAgIC8vIEFkZCBvciByZW1vdmUgLS1hY3RpdmUgY2xhc3MgZm9yIGNlbGwgb24gY29ycmVjdCBwb3NpdGlvblxuICAgIHRoaXMuY2VsbHMuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGlmIChlbGVtLml0ZW0pIHtcbiAgICAgICAgaWYgKGVsZW0ubnVtYmVyIC0gMSA9PT0gZWxlbS50b3AgKiB0aGlzLnNpemUgKyBlbGVtLmxlZnQpIHtcbiAgICAgICAgICBlbGVtLml0ZW0uY2xhc3NMaXN0LmFkZChcImNlbGwtLWFjdGl2ZVwiKTtcbiAgICAgICAgICBlbGVtLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbS5udW1iZXIgLSAxICE9PSBlbGVtLnRvcCAqIHRoaXMuc2l6ZSArIGVsZW0ubGVmdCAmJiBlbGVtLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGVsZW0uaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiY2VsbC0tYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIENoZWNrIGFsbCBjZWxscyBvbiBjb3JyZWN0IHBvc2l0aW9uXG4gICAgY29uc3QgaXNGaW5pc2hlZCA9IHRoaXMuY2VsbHMuZXZlcnkoY2VsbCA9PiB7XG4gICAgICByZXR1cm4gY2VsbC5udW1iZXIgLSAxID09PSBjZWxsLnRvcCAqIHRoaXMuc2l6ZSArIGNlbGwubGVmdDtcbiAgICB9KVxuXG4gICAgaWYgKGlzRmluaXNoZWQpIHtcbiAgICAgIHNldFRpbWVvdXQoXCJhbGVydCgnWW91IHdpbiEnKVwiLCAzMDApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN0YXJ0IE5ldyBHYW1lIHdpdGhvdXQgcmVsb2FkIHBhZ2VcbiAgbmV3R2FtZSgpIHtcbiAgICBjb25zb2xlLmxvZygnbmV3IGdhbWUhJyk7XG4gICAgdGhpcy5maWVsZC5yZW1vdmUoKTtcbiAgICB0aGlzLmZpZWxkID0gY3JlYXRlKCdkaXYnLCAnZmllbGQnLCBudWxsLCBtYWluKTtcbiAgICB0aGlzLmdlbmVyYXRlRmllbGQoKTtcbiAgfVxuXG4gIHN3aXRjaFNvdW5kID0gKGUpID0+IHtcbiAgICBjb25zdCBzb3VuZEJ1dHRvbiA9ICBlLnRhcmdldC5sYXN0Q2hpbGQ7XG5cbiAgICBpZiAodGhpcy5zb3VuZE9uKSB7XG4gICAgICBzb3VuZEJ1dHRvbi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPnZvbHVtZV9vZmY8L3NwYW4+JztcbiAgICAgIHRoaXMuc291bmRPbiA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VuZEJ1dHRvbi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPnZvbHVtZV91cDwvc3Bhbj4nO1xuICAgICAgdGhpcy5zb3VuZE9uID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuIiwiLy8gaW1wb3J0IExvZ28gZnJvbSAnLi9hc3NldHMvbG9nbydcbmltcG9ydCAnLi9iYWJlbCdcbmltcG9ydCAnLi9zdHlsZXMvdGVzdC5zY3NzJ1xuaW1wb3J0ICcuL2pzL3V0aWxzL2NyZWF0ZSdcbmltcG9ydCAnLi9qcy9tYWluJ1xuaW1wb3J0IEdhbWUgZnJvbSAnLi9qcy9tYWluJ1xuXG5uZXcgR2FtZSg0KS5pbml0KCkuZ2VuZXJhdGVGaWVsZCgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///310\n")}});