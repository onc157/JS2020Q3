(()=>{"use strict";var t={8934:(t,e,n)=>{function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e,n,l){var s,a=null;try{a=document.createElement(t)}catch(t){throw new Error("Unable to create HTMLElement!")}e&&(s=a.classList).add.apply(s,o(e.split(" "))),n&&Array.isArray(n)?n.forEach((function(t){return t&&a.appendChild(t)})):n&&"object"===i(n)?a.appendChild(n):n&&"string"==typeof n&&(a.innerHTML=n),l&&l.appendChild(a);for(var c=arguments.length,u=new Array(c>4?c-4:0),h=4;h<c;h++)u[h-4]=arguments[h];return u.length&&u.forEach((function(t){var e=r(t,2),n=e[0],i=e[1];""===i&&a.setAttribute(n,""),n.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|src|style/)?a.setAttribute(n,i):a.dataset[n]=i})),a}const c=n.p+"assets/audio/6fcc9b06e8967f9e3e1aa263e357c9b4.wav",u=n.p+"assets/audio/de3e2f7760f09923fde9172380cc13a1.wav";function h(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=a("div","game-wrapper",[a("div","title","Gem Puzzles!")]),y=a("div","counts-wrapper",[a("div","count count-time","Moves: 0"),a("div","count count-move","Count time!")]),v=a("div","buttons-wrapper",[a("button","button new-game","New Game"),a("button","button save-game","Save Game"),a("button","button sound",'<span class="material-icons">volume_up</span>'),a("button","button score","Score")]),b=a("div","sound-wrapper",[a("audio",null,null,null,["src",c]),a("audio",null,null,null,["src",u])]);new(function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"handlerEvent",(function(t){console.log("e.target.className",t.target.className),n.soundOn&&(b.childNodes[1].currentTime=0,b.childNodes[1].play(),console.log("click buttons")),t.target.className.match(/sound/)&&n.switchSound(t),t.target.className.match(/new-game/)&&n.newGame()})),m(this,"switchSound",(function(t){var e=t.target.lastChild;n.soundOn?(e.innerHTML='<span class="material-icons">volume_off</span>',n.soundOn=!1):(e.innerHTML='<span class="material-icons">volume_up</span>',n.soundOn=!0)})),m(this,"updateCountTimes",(function(){n.countTime+=1;var t=n.countTime%60,e=Math.floor(n.countTime/60);y.lastChild.innerHTML="Time: ".concat(e,"m : ").concat(t,"s"),n.timeOut=setTimeout(n.updateCountTimes,1e3)})),this.size=e,this.field=a("div","field",null,d),this.buttons=v,this.sizeCell=50,this.soundOn=!0,this.countMoves=0,this.countTime=0}var e,n,r;return e=t,(n=[{key:"init",value:function(){return document.body.prepend(d,y,v,b),this.buttons.addEventListener("click",this.handlerEvent),this}},{key:"generateField",value:function(){var t=this;this.cells=[],this.field.style.width="".concat(this.size*this.sizeCell,"px"),this.field.style.height="".concat(this.size*this.sizeCell,"px");for(var e=h(Array(Math.pow(this.size,2)-1).keys()).sort((function(){return Math.random()-.5})),n=function(n){var r=n%t.size,i=(n-r)/t.size;t.cell=a("div","cell","".concat(e[n]+1),t.field,["id","".concat(e[n]+1)],["style","top: ".concat(i*t.sizeCell,"px; left: ").concat(r*t.sizeCell,"px;")]),t.cells.push({number:e[n]+1,left:r,top:i,item:t.cell,active:!1}),t.cell.addEventListener("click",(function(){return t.cellMove(n)}))},r=0;r<Math.pow(this.size,2)-1;r+=1)n(r);this.emptyCell={number:this.cells.length+1,left:this.cells.length%this.size,top:(this.cells.length-this.cells.length%this.size)/this.size},this.cells.push(this.emptyCell),this.updateCountTimes()}},{key:"cellMove",value:function(t){var e=this.cells[t],n=Math.abs(this.emptyCell.left-e.left),r=Math.abs(this.emptyCell.top-e.top);if(this.soundOn&&(b.childNodes[0].currentTime=0,b.childNodes[0].play()),n+r<=1){e.item.style.left="".concat(this.emptyCell.left*this.sizeCell,"px"),e.item.style.top="".concat(this.emptyCell.top*this.sizeCell,"px");var i=[e.left,this.emptyCell.left];this.emptyCell.left=i[0],e.left=i[1];var o=[e.top,this.emptyCell.top];this.emptyCell.top=o[0],e.top=o[1],this.updateCountMove(),this.checkFinish()}}},{key:"checkFinish",value:function(){var t=this;this.cells.forEach((function(e){e.item&&(e.number-1===e.top*t.size+e.left?(e.item.classList.add("cell--active"),e.active=!0):e.number-1!==e.top*t.size+e.left&&!0===e.active&&e.item.classList.remove("cell--active"))})),this.cells.every((function(e){return e.number-1===e.top*t.size+e.left}))&&setTimeout('alert("You win!")',300)}},{key:"newGame",value:function(){console.log("new game!"),this.field.remove(),this.field=a("div","field",null,d),clearTimeout(this.timeOut),this.generateField(),this.countTime=0}},{key:"updateCountMove",value:function(){this.countMoves+=1,y.firstChild.innerHTML="Moves: ".concat(this.countMoves),console.log(this.countMoves)}}])&&p(e.prototype,n),r&&p(e,r),t}())(4).init().generateField()}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../../"})(),(()=>{var t={179:0},e=[[6981,981],[8934,981]],r=()=>{};function i(){for(var r,i=0;i<e.length;i++){for(var o=e[i],l=!0,s=1;s<o.length;s++){var a=o[s];0!==t[a]&&(l=!1)}l&&(e.splice(i--,1),r=n(n.s=o[0]))}return 0===e.length&&(n.x(),n.x=()=>{}),r}n.x=()=>{n.x=()=>{},l=l.slice();for(var t=0;t<l.length;t++)o(l[t]);return(r=i)()};var o=i=>{for(var o,l,[a,c,u,h]=i,f=0,p=[];f<a.length;f++)l=a[f],n.o(t,l)&&t[l]&&p.push(t[l][0]),t[l]=0;for(o in c)n.o(c,o)&&(n.m[o]=c[o]);for(u&&u(n),s(i);p.length;)p.shift()();return h&&e.push.apply(e,h),r()},l=self.webpackChunkgem_puzzle=self.webpackChunkgem_puzzle||[],s=l.push.bind(l);l.push=o})(),n.x()})();