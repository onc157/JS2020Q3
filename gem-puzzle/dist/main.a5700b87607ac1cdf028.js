!function(Q){function e(e){for(var n,l,B=e[0],U=e[1],i=e[2],a=0,c=[];a<B.length;a++)l=B[a],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&c.push(s[l][0]),s[l]=0;for(n in U)Object.prototype.hasOwnProperty.call(U,n)&&(Q[n]=U[n]);for(r&&r(e);c.length;)c.shift()();return F.push.apply(F,i||[]),t()}function t(){for(var Q,e=0;e<F.length;e++){for(var t=F[e],n=!0,B=1;B<t.length;B++){var U=t[B];0!==s[U]&&(n=!1)}n&&(F.splice(e--,1),Q=l(l.s=t[0]))}return Q}var n={},s={0:0},F=[];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return Q[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=Q,l.c=n,l.d=function(Q,e,t){l.o(Q,e)||Object.defineProperty(Q,e,{enumerable:!0,get:t})},l.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},l.t=function(Q,e){if(1&e&&(Q=l(Q)),8&e)return Q;if(4&e&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:Q}),2&e&&"string"!=typeof Q)for(var n in Q)l.d(t,n,function(e){return Q[e]}.bind(null,n));return t},l.n=function(Q){var e=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return l.d(e,"a",e),e},l.o=function(Q,e){return Object.prototype.hasOwnProperty.call(Q,e)},l.p="";var B=window.webpackJsonp=window.webpackJsonp||[],U=B.push.bind(B);B.push=e,B=B.slice();for(var i=0;i<B.length;i++)e(B[i]);var r=U;F.push([121,1]),t()}({121:function(Q,e,t){t(122),Q.exports=t(310)},308:function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIzMDguanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///308\n")},309:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvdGVzdC5zY3NzPzlkNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMzA5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///309\n")},310:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./babel.js\nvar babel = __webpack_require__(308);\n\n// EXTERNAL MODULE: ./styles/test.scss\nvar test = __webpack_require__(309);\n\n// CONCATENATED MODULE: ./js/utils/create.js\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * @param {String} el\n * @param {String} classNames\n * @param {HTMLElement} child\n * @param {HTMLElement} parent\n * @param {...array} dataAttr\n */\nfunction create(el, classNames, child, parent) {\n  var _element$classList;\n\n  var element = null;\n\n  try {\n    element = document.createElement(el);\n  } catch (error) {\n    throw new Error(\'Unable to create HTMLElement!\');\n  }\n\n  if (classNames) (_element$classList = element.classList).add.apply(_element$classList, _toConsumableArray(classNames.split(\' \')));\n\n  if (child && Array.isArray(child)) {\n    child.forEach(function (childElement) {\n      return childElement && element.appendChild(childElement);\n    });\n  } else if (child && _typeof(child) === \'object\') {\n    element.appendChild(child);\n  } else if (child && typeof child === \'string\') {\n    element.innerHTML = child;\n  }\n\n  if (parent) {\n    parent.appendChild(element);\n  }\n\n  for (var _len = arguments.length, dataAttr = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n    dataAttr[_key - 4] = arguments[_key];\n  }\n\n  if (dataAttr.length) {\n    dataAttr.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          attrName = _ref2[0],\n          attrValue = _ref2[1];\n\n      if (attrValue === \'\') {\n        element.setAttribute(attrName, \'\');\n      }\n\n      if (attrName.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|src|style/)) {\n        element.setAttribute(attrName, attrValue);\n      } else {\n        element.dataset[attrName] = attrValue;\n      }\n    });\n  }\n\n  return element;\n}\n// CONCATENATED MODULE: ./js/main.js\nfunction main_toConsumableArray(arr) { return main_arrayWithoutHoles(arr) || main_iterableToArray(arr) || main_unsupportedIterableToArray(arr) || main_nonIterableSpread(); }\n\nfunction main_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction main_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return main_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return main_arrayLikeToArray(o, minLen); }\n\nfunction main_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction main_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return main_arrayLikeToArray(arr); }\n\nfunction main_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n // Init DOM element\n\nvar main = create(\'div\', \'game-wrapper\', [create(\'div\', \'title\', \'Gem Puzzles!\')]);\nvar buttons = create(\'div\', \'buttons-wrapper\', [create(\'button\', \'button new-game\', \'New Game\'), create(\'button\', \'button save-game\', \'Save Game\'), create(\'button\', \'button sound\', \'Sound On / Off\'), create(\'button\', \'button score\', \'Score\')]);\nvar sound = create(\'audio\', null, null, null, [\'src\', \'../assets/audio/en-click.wav\']);\n\nvar main_Game = /*#__PURE__*/function () {\n  function Game(size) {\n    var _this = this;\n\n    _classCallCheck(this, Game);\n\n    _defineProperty(this, "handlerEvent", function (e) {\n      console.log(\'e.target.className\', e.target.className); // BUTTONS HANDLERS\n      // if(e.target.className === \'sound\') {}\n\n      if (e.target.className.match(/new-game/)) {\n        _this.newGame();\n      } // if(e.target.className === \'save-game\') {}\n      // if(e.target.className === \'score\') {}\n\n    });\n\n    this.size = size;\n    this.field = create(\'div\', \'field\', null, main);\n    this.buttons = buttons;\n    this.sizeCell = 50;\n  } // Add element on HTML markup\n\n\n  _createClass(Game, [{\n    key: "init",\n    value: function init() {\n      document.body.prepend(main, buttons, sound);\n      return this;\n    }\n  }, {\n    key: "generateField",\n    value: function generateField() {\n      var _this2 = this;\n\n      this.cells = []; // Set field sizes\n\n      this.field.style.width = "".concat(this.size * this.sizeCell, "px");\n      this.field.style.height = "".concat(this.size * this.sizeCell, "px");\n\n      var randomNumbers = main_toConsumableArray(Array(Math.pow(this.size, 2) - 1).keys()).sort(function () {\n        return Math.random() - 0.5;\n      }); // console.log(\'randomNumbers:\', randomNumbers);\n      // Generate puzzle cells\n\n\n      var _loop = function _loop(i) {\n        var left = i % _this2.size;\n        var top = (i - left) / _this2.size;\n        _this2.cell = create(\'div\', \'cell\', "".concat(randomNumbers[i] + 1), _this2.field, [\'id\', "".concat(randomNumbers[i] + 1)], [\'style\', "top: ".concat(top * _this2.sizeCell, "px; left: ").concat(left * _this2.sizeCell, "px;")]);\n\n        _this2.cells.push({\n          number: randomNumbers[i] + 1,\n          left: left,\n          top: top,\n          item: _this2.cell,\n          active: false\n        });\n\n        _this2.cell.addEventListener(\'click\', function () {\n          return _this2.cellMove(i);\n        });\n      };\n\n      for (var i = 0; i < Math.pow(this.size, 2) - 1; i++) {\n        _loop(i);\n      }\n\n      this.emptyCell = {\n        number: this.cells.length + 1,\n        left: this.cells.length % this.size,\n        top: (this.cells.length - this.cells.length % this.size) / this.size\n      };\n      this.cells.push(this.emptyCell);\n      console.log(this.cells);\n      this.buttons.addEventListener(\'click\', this.handlerEvent);\n    }\n  }, {\n    key: "cellMove",\n    value: function cellMove(index) {\n      var cell = this.cells[index];\n      var leftDiff = Math.abs(this.emptyCell.left - cell.left);\n      var topDiff = Math.abs(this.emptyCell.top - cell.top); // We process click of only adjacent cells horizontall or verticall\n\n      if (leftDiff + topDiff <= 1) {\n        cell.item.style.left = "".concat(this.emptyCell.left * this.sizeCell, "px");\n        cell.item.style.top = "".concat(this.emptyCell.top * this.sizeCell, "px");\n        var _ref = [cell.left, this.emptyCell.left];\n        this.emptyCell.left = _ref[0];\n        cell.left = _ref[1];\n        var _ref2 = [cell.top, this.emptyCell.top];\n        this.emptyCell.top = _ref2[0];\n        cell.top = _ref2[1];\n      } else return; // Check is finish\n\n\n      this.checkFinish();\n    }\n  }, {\n    key: "checkFinish",\n    value: function checkFinish() {\n      var _this3 = this;\n\n      // Add or remove --active class for cell on correct position\n      this.cells.forEach(function (elem) {\n        if (elem.item) {\n          if (elem.number - 1 === elem.top * _this3.size + elem.left) {\n            elem.item.classList.add("cell--active");\n            elem.active = true;\n          } else if (elem.number - 1 !== elem.top * _this3.size + elem.left && elem.active === true) {\n            elem.item.classList.remove("cell--active");\n          }\n        }\n      }); // Check all cells on correct position\n\n      var isFinished = this.cells.every(function (cell) {\n        return cell.number - 1 === cell.top * _this3.size + cell.left;\n      });\n\n      if (isFinished) {\n        setTimeout("alert(\'You win!\')", 300);\n      }\n    }\n  }, {\n    key: "newGame",\n    value: function newGame() {\n      console.log(\'new game!\');\n      this.field.remove();\n      this.field = create(\'div\', \'field\', null, main);\n      this.generateField();\n    }\n  }]);\n\n  return Game;\n}();\n\n\n// CONCATENATED MODULE: ./index.js\n// import Logo from \'./assets/logo\'\n\n\n\n\n\nnew main_Game(4).init().generateField();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91dGlscy9jcmVhdGUuanM/MTY1NyIsIndlYnBhY2s6Ly8vLi9qcy9tYWluLmpzP2UzYjEiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJuYW1lcyI6WyJjcmVhdGUiLCJlbCIsImNsYXNzTmFtZXMiLCJjaGlsZCIsInBhcmVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlcnJvciIsIkVycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwic3BsaXQiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiY2hpbGRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJkYXRhQXR0ciIsImxlbmd0aCIsImF0dHJOYW1lIiwiYXR0clZhbHVlIiwic2V0QXR0cmlidXRlIiwibWF0Y2giLCJkYXRhc2V0IiwibWFpbiIsImJ1dHRvbnMiLCJzb3VuZCIsIkdhbWUiLCJzaXplIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJuZXdHYW1lIiwiZmllbGQiLCJzaXplQ2VsbCIsImJvZHkiLCJwcmVwZW5kIiwiY2VsbHMiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwicmFuZG9tTnVtYmVycyIsImtleXMiLCJzb3J0IiwiTWF0aCIsInJhbmRvbSIsImkiLCJsZWZ0IiwidG9wIiwiY2VsbCIsInB1c2giLCJudW1iZXIiLCJpdGVtIiwiYWN0aXZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNlbGxNb3ZlIiwiZW1wdHlDZWxsIiwiaGFuZGxlckV2ZW50IiwiaW5kZXgiLCJsZWZ0RGlmZiIsImFicyIsInRvcERpZmYiLCJjaGVja0ZpbmlzaCIsImVsZW0iLCJyZW1vdmUiLCJpc0ZpbmlzaGVkIiwiZXZlcnkiLCJzZXRUaW1lb3V0IiwiZ2VuZXJhdGVGaWVsZCIsImluaXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNB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QU9BLElBQUksQ0FBQ0UsTUFBTCxHQUFjLENBQWQsS0FBb0JGLElBQUksQ0FBQ0QsR0FBTCxHQUFXLE1BQUksQ0FBQ3RCLElBQWhCLEdBQXVCdUIsSUFBSSxDQUFDRixJQUF2RDtBQUNELE9BRmtCLENBQW5COztBQUlBLFVBQUlrQixVQUFKLEVBQWdCO0FBQ2RFLGtCQUFVLENBQUMsbUJBQUQsRUFBc0IsR0FBdEIsQ0FBVjtBQUNEO0FBQ0Y7Ozs4QkFFUztBQUNSdkMsYUFBTyxDQUFDQyxHQUFSLENBQVksV0FBWjtBQUNBLFdBQUtJLEtBQUwsQ0FBVytCLE1BQVg7QUFDQSxXQUFLL0IsS0FBTCxHQUFhckMsTUFBTSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLElBQWpCLEVBQXVCMEIsSUFBdkIsQ0FBbkI7QUFDQSxXQUFLOEMsYUFBTDtBQUNEOzs7Ozs7OztBQ2pJSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFJM0MsU0FBSixDQUFTLENBQVQsRUFBWTRDLElBQVosR0FBbUJELGFBQW5CIiwiZmlsZSI6IjMxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHBhcmFtIHtTdHJpbmd9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2hpbGRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHsuLi5hcnJheX0gZGF0YUF0dHJcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGUoZWwsIGNsYXNzTmFtZXMsIGNoaWxkLCBwYXJlbnQsIC4uLmRhdGFBdHRyKSB7XG4gIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIEhUTUxFbGVtZW50IScpO1xuICB9XG5cbiAgaWYgKGNsYXNzTmFtZXMpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzLnNwbGl0KCcgJykpO1xuXG4gIGlmIChjaGlsZCAmJiBBcnJheS5pc0FycmF5KGNoaWxkKSkge1xuICAgIGNoaWxkLmZvckVhY2goKGNoaWxkRWxlbWVudCkgPT4gY2hpbGRFbGVtZW50ICYmIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGRFbGVtZW50KSk7XG4gIH0gZWxzZSBpZiAoY2hpbGQgJiYgdHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICB9IGVsc2UgaWYgKGNoaWxkICYmIHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IGNoaWxkO1xuICB9XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChkYXRhQXR0ci5sZW5ndGgpIHtcbiAgICBkYXRhQXR0ci5mb3JFYWNoKChbIGF0dHJOYW1lLCBhdHRyVmFsdWUgXSkgPT4ge1xuICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmIChhdHRyTmFtZS5tYXRjaCgvdmFsdWV8aWR8cGxhY2Vob2xkZXJ8Y29sc3xyb3dzfGF1dG9jb3JyZWN0fHNwZWxsY2hlY2t8c3JjfHN0eWxlLykpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmRhdGFzZXRbYXR0ck5hbWVdID0gYXR0clZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufSIsImltcG9ydCBjcmVhdGUgZnJvbSAnLi91dGlscy9jcmVhdGUnO1xuXG4vLyBJbml0IERPTSBlbGVtZW50XG5jb25zdCBtYWluID0gY3JlYXRlKCdkaXYnLCAnZ2FtZS13cmFwcGVyJyxcbiAgW2NyZWF0ZSgnZGl2JywgJ3RpdGxlJywgJ0dlbSBQdXp6bGVzIScpXSk7XG5jb25zdCBidXR0b25zID0gY3JlYXRlKCdkaXYnLCAnYnV0dG9ucy13cmFwcGVyJywgW1xuICBjcmVhdGUoJ2J1dHRvbicsICdidXR0b24gbmV3LWdhbWUnLCAnTmV3IEdhbWUnKSxcbiAgY3JlYXRlKCdidXR0b24nLCAnYnV0dG9uIHNhdmUtZ2FtZScsICdTYXZlIEdhbWUnKSxcbiAgY3JlYXRlKCdidXR0b24nLCAnYnV0dG9uIHNvdW5kJywgJ1NvdW5kIE9uIC8gT2ZmJyksXG4gIGNyZWF0ZSgnYnV0dG9uJywgJ2J1dHRvbiBzY29yZScsICdTY29yZScpXG5dKTtcbmNvbnN0IHNvdW5kID0gY3JlYXRlKCdhdWRpbycsIG51bGwsIG51bGwsIG51bGwsIFsnc3JjJywgJy4uL2Fzc2V0cy9hdWRpby9lbi1jbGljay53YXYnXSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcihzaXplKSB7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLmZpZWxkID0gY3JlYXRlKCdkaXYnLCAnZmllbGQnLCBudWxsLCBtYWluKTtcbiAgICB0aGlzLmJ1dHRvbnMgPSBidXR0b25zO1xuICAgIHRoaXMuc2l6ZUNlbGwgPSA1MDtcbiAgfVxuXG4gIC8vIEFkZCBlbGVtZW50IG9uIEhUTUwgbWFya3VwXG4gIGluaXQoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKG1haW4sIGJ1dHRvbnMsIHNvdW5kKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdlbmVyYXRlRmllbGQoKSB7XG4gICAgdGhpcy5jZWxscyA9IFtdO1xuXG4gICAgLy8gU2V0IGZpZWxkIHNpemVzXG4gICAgdGhpcy5maWVsZC5zdHlsZS53aWR0aCA9IGAke3RoaXMuc2l6ZSAqIHRoaXMuc2l6ZUNlbGx9cHhgO1xuICAgIHRoaXMuZmllbGQuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zaXplICogdGhpcy5zaXplQ2VsbH1weGA7XG5cbiAgICBjb25zdCByYW5kb21OdW1iZXJzID0gWy4uLkFycmF5KHRoaXMuc2l6ZSAqKiAyIC0gMSkua2V5cygpXVxuICAgICAgLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZygncmFuZG9tTnVtYmVyczonLCByYW5kb21OdW1iZXJzKTtcblxuICAgIC8vIEdlbmVyYXRlIHB1enpsZSBjZWxsc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaXplICoqIDIgLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IGxlZnQgPSBpICUgdGhpcy5zaXplO1xuICAgICAgY29uc3QgdG9wID0gKGkgLSBsZWZ0KSAvIHRoaXMuc2l6ZTtcblxuICAgICAgdGhpcy5jZWxsID0gY3JlYXRlKCdkaXYnLCAnY2VsbCcsIGAke3JhbmRvbU51bWJlcnNbaV0gKyAxfWAsIHRoaXMuZmllbGQsIFsnaWQnLCBgJHtyYW5kb21OdW1iZXJzW2ldICsgMX1gXSxcbiAgICAgIFsnc3R5bGUnLCBgdG9wOiAke3RvcCAqIHRoaXMuc2l6ZUNlbGx9cHg7IGxlZnQ6ICR7bGVmdCAqIHRoaXMuc2l6ZUNlbGx9cHg7YF1cbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY2VsbHMucHVzaCh7XG4gICAgICAgIG51bWJlcjogcmFuZG9tTnVtYmVyc1tpXSArIDEsXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBpdGVtOiB0aGlzLmNlbGwsXG4gICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNlbGxNb3ZlKGkpKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtcHR5Q2VsbCA9IHtcbiAgICAgIG51bWJlcjogdGhpcy5jZWxscy5sZW5ndGggKyAxLFxuICAgICAgbGVmdDogdGhpcy5jZWxscy5sZW5ndGggJSB0aGlzLnNpemUsXG4gICAgICB0b3A6ICh0aGlzLmNlbGxzLmxlbmd0aCAtICh0aGlzLmNlbGxzLmxlbmd0aCAlIHRoaXMuc2l6ZSkpIC8gdGhpcy5zaXplXG4gICAgfTtcblxuICAgIHRoaXMuY2VsbHMucHVzaCh0aGlzLmVtcHR5Q2VsbCk7XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLmNlbGxzKVxuICAgIHRoaXMuYnV0dG9ucy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlckV2ZW50KTtcbiAgfVxuXG4gIGhhbmRsZXJFdmVudCA9IChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2UudGFyZ2V0LmNsYXNzTmFtZScsIGUudGFyZ2V0LmNsYXNzTmFtZSlcbiAgICAvLyBCVVRUT05TIEhBTkRMRVJTXG4gICAgLy8gaWYoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnc291bmQnKSB7fVxuICAgIGlmKGUudGFyZ2V0LmNsYXNzTmFtZS5tYXRjaCgvbmV3LWdhbWUvKSkge1xuICAgICAgdGhpcy5uZXdHYW1lKCk7XG4gICAgfVxuICAgIC8vIGlmKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ3NhdmUtZ2FtZScpIHt9XG4gICAgLy8gaWYoZS50YXJnZXQuY2xhc3NOYW1lID09PSAnc2NvcmUnKSB7fVxuXG4gIH1cblxuICBjZWxsTW92ZShpbmRleCkge1xuICAgIGNvbnN0IGNlbGwgPSB0aGlzLmNlbGxzW2luZGV4XTtcbiAgICBjb25zdCBsZWZ0RGlmZiA9IE1hdGguYWJzKHRoaXMuZW1wdHlDZWxsLmxlZnQgLSBjZWxsLmxlZnQpO1xuICAgIGNvbnN0IHRvcERpZmYgPSBNYXRoLmFicyh0aGlzLmVtcHR5Q2VsbC50b3AgLSBjZWxsLnRvcCk7XG5cbiAgICAvLyBXZSBwcm9jZXNzIGNsaWNrIG9mIG9ubHkgYWRqYWNlbnQgY2VsbHMgaG9yaXpvbnRhbGwgb3IgdmVydGljYWxsXG4gICAgaWYgKGxlZnREaWZmICsgdG9wRGlmZiA8PSAxKSB7XG4gICAgICBjZWxsLml0ZW0uc3R5bGUubGVmdCA9IGAke3RoaXMuZW1wdHlDZWxsLmxlZnQgKiB0aGlzLnNpemVDZWxsfXB4YDtcbiAgICAgIGNlbGwuaXRlbS5zdHlsZS50b3AgPSBgJHt0aGlzLmVtcHR5Q2VsbC50b3AgKiB0aGlzLnNpemVDZWxsfXB4YDtcblxuICAgICAgW3RoaXMuZW1wdHlDZWxsLmxlZnQsIGNlbGwubGVmdF0gPSBbY2VsbC5sZWZ0LCB0aGlzLmVtcHR5Q2VsbC5sZWZ0XTtcbiAgICAgIFt0aGlzLmVtcHR5Q2VsbC50b3AsIGNlbGwudG9wXSA9IFtjZWxsLnRvcCwgdGhpcy5lbXB0eUNlbGwudG9wXTtcbiAgICB9IGVsc2UgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgaXMgZmluaXNoXG4gICAgdGhpcy5jaGVja0ZpbmlzaCgpO1xuICB9XG5cbiAgY2hlY2tGaW5pc2goKSB7XG4gICAgLy8gQWRkIG9yIHJlbW92ZSAtLWFjdGl2ZSBjbGFzcyBmb3IgY2VsbCBvbiBjb3JyZWN0IHBvc2l0aW9uXG4gICAgdGhpcy5jZWxscy5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgaWYgKGVsZW0uaXRlbSkge1xuICAgICAgICBpZiAoZWxlbS5udW1iZXIgLSAxID09PSBlbGVtLnRvcCAqIHRoaXMuc2l6ZSArIGVsZW0ubGVmdCkge1xuICAgICAgICAgIGVsZW0uaXRlbS5jbGFzc0xpc3QuYWRkKFwiY2VsbC0tYWN0aXZlXCIpO1xuICAgICAgICAgIGVsZW0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtLm51bWJlciAtIDEgIT09IGVsZW0udG9wICogdGhpcy5zaXplICsgZWxlbS5sZWZ0ICYmIGVsZW0uYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgZWxlbS5pdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJjZWxsLS1hY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gQ2hlY2sgYWxsIGNlbGxzIG9uIGNvcnJlY3QgcG9zaXRpb25cbiAgICBjb25zdCBpc0ZpbmlzaGVkID0gdGhpcy5jZWxscy5ldmVyeShjZWxsID0+IHtcbiAgICAgIHJldHVybiBjZWxsLm51bWJlciAtIDEgPT09IGNlbGwudG9wICogdGhpcy5zaXplICsgY2VsbC5sZWZ0O1xuICAgIH0pXG5cbiAgICBpZiAoaXNGaW5pc2hlZCkge1xuICAgICAgc2V0VGltZW91dChcImFsZXJ0KCdZb3Ugd2luIScpXCIsIDMwMCk7XG4gICAgfVxuICB9XG5cbiAgbmV3R2FtZSgpIHtcbiAgICBjb25zb2xlLmxvZygnbmV3IGdhbWUhJyk7XG4gICAgdGhpcy5maWVsZC5yZW1vdmUoKTtcbiAgICB0aGlzLmZpZWxkID0gY3JlYXRlKCdkaXYnLCAnZmllbGQnLCBudWxsLCBtYWluKTtcbiAgICB0aGlzLmdlbmVyYXRlRmllbGQoKTtcbiAgfVxufVxuXG5cbiIsIi8vIGltcG9ydCBMb2dvIGZyb20gJy4vYXNzZXRzL2xvZ28nXG5pbXBvcnQgJy4vYmFiZWwnXG5pbXBvcnQgJy4vc3R5bGVzL3Rlc3Quc2NzcydcbmltcG9ydCAnLi9qcy91dGlscy9jcmVhdGUnXG5pbXBvcnQgJy4vanMvbWFpbidcbmltcG9ydCBHYW1lIGZyb20gJy4vanMvbWFpbidcblxubmV3IEdhbWUoNCkuaW5pdCgpLmdlbmVyYXRlRmllbGQoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///310\n')}});